[General]
bypass-system = true
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = 119.29.29.29,114.114.114.114,223.5.5.5,system
fallback-dns-server = system
ipv6 = false
prefer-ipv6 = false
dns-fallback-system = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = false

[Proxy Group]
# ä»£ç†åˆ†ç»„ç±»å‹ï¼š
# select:æ‰‹åŠ¨åˆ‡æ¢èŠ‚ç‚¹ã€‚
# url-test:è‡ªåŠ¨åˆ‡æ¢å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ã€‚
# fallback:èŠ‚ç‚¹æŒ‚æ‰æ—¶è‡ªåŠ¨åˆ‡æ¢å…¶ä»–å¯ç”¨èŠ‚ç‚¹ã€‚
# load-balance:ä¸åŒè§„åˆ™çš„è¯·æ±‚ä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚
# random:éšæœºä½¿ç”¨åˆ†ç»„é‡Œçš„ä¸åŒèŠ‚ç‚¹è¿›è¡Œè¿æ¥ã€‚
# ----------
# policy-regex-filterè¡¨ç¤ºæ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰ï¼Œå¸¸ç”¨å†™æ³•ï¼š
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå’ŒBçš„èŠ‚ç‚¹:
# (?=.*(A))^(?=.*(B))^.*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# A|B
# æ’é™¤èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aæˆ–Bçš„èŠ‚ç‚¹:
# ^((?!(A|B)).)*$
# ä¿ç•™èŠ‚ç‚¹åç§°å«æœ‰å…³é”®è¯Aå¹¶æ’é™¤å«æœ‰å…³é”®è¯Bçš„èŠ‚ç‚¹:
# (?=.*(A).)^((?!(B)).)*$
# ----------
# ä»£ç†åˆ†ç»„å…¶ä»–è®¾ç½®å‚æ•°ï¼š
# interval:æŒ‡å®šé—´éš”å¤šé•¿æ—¶é—´åéœ€è¦é‡æ–°å‘èµ·æµ‹è¯•ã€‚
# timeout:å¦‚æœæµ‹è¯•åœ¨è¶…æ—¶å‰æœªå®Œæˆï¼Œæ”¾å¼ƒæµ‹è¯•ã€‚
# tolerance:åªæœ‰å½“æ–°ä¼˜èƒœè€…çš„åˆ†æ•°é«˜äºæ—§ä¼˜èƒœè€…çš„åˆ†æ•°åŠ ä¸Šå…¬å·®æ—¶ï¼Œæ‰ä¼šè¿›è¡Œçº¿è·¯æ›´æ¢ã€‚
# url:æŒ‡å®šè¦æµ‹è¯•çš„URLã€‚
# ----------
# ä¸å«æ­£åˆ™ç­›é€‰çš„ä»£ç†åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š
# åç§°=ç±»å‹(å¦‚select,url-test,fallback,load-balance,random),ç­–ç•¥(å¦‚direct,proxy,è®¢é˜…åç§°,ä»£ç†åˆ†ç»„,èŠ‚ç‚¹),interval=æµ‹è¯•å‘¨æœŸ,timeout=è¶…æ—¶æ—¶é—´,tolerance=å…¬å·®,policy-select-name=æŒ‡å®šé€‰æ‹©çš„èŠ‚ç‚¹å¤‡æ³¨åç§°,select=é»˜è®¤ç­–ç•¥(0è¡¨ç¤ºç¬¬ä¸€ä¸ªç­–ç•¥,1è¡¨ç¤ºç¬¬äºŒä¸ªç­–ç•¥,2è¡¨ç¤ºç¬¬ä¸‰ä¸ªç­–ç•¥â€¦â€¦),url=æµ‹è¯•åœ°å€
# å«æ­£åˆ™ç­›é€‰çš„ä»£ç†åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š
# åç§°=ç±»å‹(å¦‚select,url-test,fallback,load-balance,random),policy-regex-filter=æ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰,interval=æµ‹è¯•å‘¨æœŸ,timeout=è¶…æ—¶æ—¶é—´,tolerance=å…¬å·®,policy-select-name=æŒ‡å®šé€‰æ‹©çš„èŠ‚ç‚¹å¤‡æ³¨åç§°,select=é»˜è®¤ç­–ç•¥(0è¡¨ç¤ºç¬¬ä¸€ä¸ªç­–ç•¥,1è¡¨ç¤ºç¬¬äºŒä¸ªç­–ç•¥,2è¡¨ç¤ºç¬¬ä¸‰ä¸ªç­–ç•¥â€¦â€¦),url=æµ‹è¯•åœ°å€
# å¼€å¯è®¢é˜…ç­›é€‰çš„ä»£ç†åˆ†ç»„ï¼Œç¤ºä¾‹ï¼š
# åç§°=ç±»å‹(å¦‚select,url-test,fallback,load-balance,random),è®¢é˜…åç§°(å¤šä¸ªè®¢é˜…æ—¶,ç”¨é€—å·åˆ†éš”),use=true,policy-regex-filter=æ­£åˆ™å¼æˆ–å…³é”®è¯ç­›é€‰(çœç•¥è¯¥å‚æ•°æ—¶,è¡¨ç¤ºåŒ¹é…å¯¹åº”è®¢é˜…çš„å…¨éƒ¨èŠ‚ç‚¹),interval=æµ‹è¯•å‘¨æœŸ,timeout=è¶…æ—¶æ—¶é—´,tolerance=å…¬å·®,policy-select-name=æŒ‡å®šé€‰æ‹©çš„èŠ‚ç‚¹å¤‡æ³¨åç§°,select=é»˜è®¤ç­–ç•¥(0è¡¨ç¤ºç¬¬ä¸€ä¸ªç­–ç•¥,1è¡¨ç¤ºç¬¬äºŒä¸ªç­–ç•¥,2è¡¨ç¤ºç¬¬ä¸‰ä¸ªç­–ç•¥â€¦â€¦),url=æµ‹è¯•åœ°å€
# ----------

ğŸš€ ç­–ç•¥é€‰æ‹© = select,â™»ï¸ ALL,interval=600,timeout=5,select=0,url=http://www.gstatic.com/generate_204
â™»ï¸ ALL = select,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=.*
ç‰¹æ®Š =
ğŸ¤–ï¸ äººå·¥æ™ºèƒ½ = ğŸš€ ç­–ç•¥é€‰æ‹©,select,ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, select=0
ğŸ“² Telegram = select,ğŸš€ç­–ç•¥é€‰æ‹©,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,select=0
ğŸ“¹ YouTube = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸ¥ Netflix = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸ¬ Disney+ = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸ» Spotify = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸ“„ Twitter = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸª™ Paypal = select,ğŸš€ç­–ç•¥é€‰æ‹©,select=0
ğŸ‘¤ Facebook = select,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸ“– Reddit = select,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸ¦ Discord = select,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸ“½ å“”å“©å“”å“© = select, ğŸŒ å…¨çƒç›´è¿,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸ¿ å›½å¤–åª’ä½“ = select,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸ” å›½å†…åª’ä½“ = select, ğŸŒ å…¨çƒç›´è¿,ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
ğŸŸ æ–°æµªå¾®åš = select, ğŸŒ å…¨çƒç›´è¿, ğŸš€ ç­–ç•¥é€‰æ‹©,select=0
â“‚ï¸ å¾®è½¯æœåŠ¡ = select, ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿,select=0
ğŸ è‹¹æœæœåŠ¡ = select, ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿,select=0
ğŸ® æ¸¸æˆå¹³å° = select, ğŸš€ ç­–ç•¥é€‰æ‹©,ğŸŒ å…¨çƒç›´è¿, select=0


# ä»¥ä¸‹å›½å®¶åœ°åŒºèŠ‚ç‚¹ç­›é€‰ è¯·è‡ªè¡Œæ ¹æ®æœºåœºèŠ‚ç‚¹åç§°ä¿®æ”¹æ­£åˆ™

ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|JP|KR|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$
ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=(?=.*(ç¾å›½|ç¾åœ‹|US|æ´›æ‰çŸ¶|è¥¿é›…å›¾|(?i)States|American))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|éŸ©å›½|ç‹®åŸ|å—æœé²œ|SG|JP|KR|HK|TW|å°ç£|éŸ“åœ‹|ç…åŸ)).)*$
ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=ğŸ‡¬ğŸ‡§|è‹±å›½|UK|ä¼¦æ•¦|è‹±æ ¼å…°|ä¼¯æ˜ç¿°|æ³°æ©æ²³ç•”çº½å¡æ–¯å°”|åˆ©å…¹|çˆ±ä¸å ¡|æ ¼æ‹‰æ–¯å“¥|è‹æ ¼å…°
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=(?=.*(æ—¥æœ¬|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|ç‹®åŸ|å—æœé²œ|US|SG|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹|ç…åŸ)).)*$
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|(?i)Singapore))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|ç¾å›½|éŸ©å›½|å—æœé²œ|US|JP|KR|HK|TW|å°ç£|ç¾åœ‹|éŸ“åœ‹)).)*$
ğŸ‡©ğŸ‡ª å¾·å›½ = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,policy-regex-filter=ğŸ‡©ğŸ‡ª|å¾·å›½|DEU|DE|æŸæ—|æ…•å°¼é»‘|æ±‰å ¡|ç§‘éš†|Germany
ğŸŒ å…¨çƒç›´è¿ = select, DIRECT

[Rule]
# ğŸ¤–ï¸ äººå·¥æ™ºèƒ½è§„åˆ™ï¼ˆåŒ…å«google bard,new bing,chatgptï¼‰æ˜¯ä¸ªäººå»ºç«‹çš„ç®€ç•¥è§„åˆ™ è‡ªç”¨ å¯èƒ½ä¸é€‚åˆæ‰€æœ‰äºº

RULE-SET,https://raw.githubusercontent.com/deezertidal/shadowrocket-rules/main/js/ai.list,ğŸ¤–ï¸ äººå·¥æ™ºèƒ½
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Lan/Lan.list,ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite.list,REJECT
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AdvertisingLite/AdvertisingLite_Domain.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,â“‚ï¸ å¾®è½¯æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list,ğŸ è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppStore/AppStore.list,ğŸ è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleProxy/AppleProxy.list,ğŸš€ ç­–ç•¥é€‰æ‹©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,ğŸ“² TELEGRAM
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Weibo/Weibo.list,ğŸŸ æ–°æµªå¾®åš
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,weibo,ğŸŸ æ–°æµªå¾®åš
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,ğŸ“„ TWITTER
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PlayStation/PlayStation.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Epic/Epic.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Sony/Sony.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,ğŸ® æ¸¸æˆå¹³å°
DOMAIN-KEYWORD,ubisoft,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Nintendo/Nintendo.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WanMeiShiJie/WanMeiShiJie.list,ğŸ® æ¸¸æˆå¹³å°
DOMAIN-KEYWORD,steam,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Blizzard/Blizzard.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Spotify/Spotify.list,ğŸ» SPOTIFY
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/PayPal/PayPal.list,ğŸª™ PAYPAL
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Facebook/Facebook.list,ğŸ‘¤ FACEBOOK
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Reddit/Reddit.list,ğŸ“– REDDIT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Discord/Discord.list,ğŸ¦ DISCORD
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,ğŸ“¹ YOUTUBE
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTubeMusic/YouTubeMusic.list,ğŸ“¹ YOUTUBE
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,ğŸ¥ NETFLIX
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,ğŸ¬ DISNEY+
DOMAIN-SUFFIX,api.bilibili.com,ğŸ“½ å“”å“©å“”å“©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,ğŸ“½ å“”å“©å“”å“©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaMedia/ChinaMedia.list,ğŸ” å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,ğŸ¿ å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitch/Twitch.list,ğŸš€ ç­–ç•¥é€‰æ‹©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Douyu/Douyu.list,ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,ğŸš€ ç­–ç•¥é€‰æ‹©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy.list,ğŸš€ ç­–ç•¥é€‰æ‹©
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_Domain.list,ğŸš€ ç­–ç•¥é€‰æ‹©
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China.list,ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/ChinaIPs/ChinaIPs.list,ğŸŒ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Download/Download.list,ğŸŒ å…¨çƒç›´è¿
GEOIP,CN,ğŸŒ å…¨çƒç›´è¿
FINAL,ğŸš€ ç­–ç•¥é€‰æ‹©

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

[MITM]
enable = true
hostname = 